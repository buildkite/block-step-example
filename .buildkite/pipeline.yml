steps:
  - command: buildkite-agent artifact upload test-files/step1/test.txt && buildkite-agent annotate "<pre class="term"><code><div class='blue'>Hello <span class='orange'>world</span> in blue</div></code></pre>"
    label: ":rocket: step 1"
    agents:
      queue: "nithya"

  - command: buildkite-agent artifact upload test-files/step1/test.txt && buildkite-agent annotate ```term
\x1b[31mFailure/Error:\x1b[0m \x1b[32mexpect\x1b[0m(new_item.created_at).to eql(now)

\x1b[31m  expected: 2018-06-20 19:42:26.290538462 +0000\x1b[0m
\x1b[31m       got: 2018-06-20 19:42:26.290538000 +0000\x1b[0m

\x1b[31m  (compared using eql?)\x1b[0m
```
    label: ":rocket: step 2"
    agents:
      queue: "nithya"

  - command: buildkite-agent artifact upload test-files/step1/test.txt
    label: ":rocket: step 3"
    agents:
      queue: "nithya"

  - wait
  
  - command: buildkite-agent artifact download "test-files/*/*.txt" .
    label: "download all"
    agents:
      queue: "nithya"

